<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Torque Bay</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: sans-serif;
      padding: 1rem;
      max-width: 1000px;
      margin: auto;
      background: #111;
      color: #fff;
    }

    img {
      max-width: 100%;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-container img {
      height: 50px;
    }

    .auth-buttons a {
      color: #d32f2f;
      text-decoration: none;
      font-weight: 700;
      margin-left: 15px;
      border: 2px solid #d32f2f;
      padding: 6px 12px;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }
    .auth-buttons a:hover {
      background-color: #d32f2f;
      color: #fff;
    }

    .rolling-text-container {
      overflow: hidden;
      white-space: nowrap;
      border-top: 3px solid #d32f2f;
      border-bottom: 3px solid #d32f2f;
      margin-bottom: 1rem;
      padding: 10px 0;
    }
    .rolling-text {
      display: inline-block;
      padding-left: 100%;
      animation: scroll 15s linear infinite;
      color: #d32f2f;
      font-weight: 700;
      font-size: 1rem;
    }
    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      color: #fff;
      align-items: center;
    }

    .filters label {
      font-weight: 600;
      margin-right: 5px;
    }

    .filters input[type="text"],
    .filters input[type="number"],
    .filters select {
      padding: 5px 8px;
      border-radius: 4px;
      border: 1px solid #444;
      background: #222;
      color: #fff;
      min-width: 120px;
    }

    .filters button {
      background-color: #d32f2f;
      border: none;
      color: white;
      padding: 8px 15px;
      font-weight: 700;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }
    .filters button:hover {
      background-color: #b02929;
    }

    article.listing {
      border: 1px solid #444;
      border-radius: 8px;
      background: #222;
      padding: 15px;
      margin-bottom: 25px;
      box-shadow: 0 0 10px rgba(211, 47, 47, 0.3);
    }

    article.listing h3 {
      margin-top: 0;
      color: #d32f2f;
      font-size: 1.4rem;
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: #4caf50;
      font-weight: 600;
      margin-bottom: 5px;
    }
    .tag svg {
      width: 18px;
      height: 18px;
      fill: currentColor;
    }

    #countdown {
      font-weight: 700;
      color: #d32f2f;
      margin-bottom: 10px;
      font-size: 1.1rem;
    }

    .listing-flex {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .gallery {
      flex: 1 1 200px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-width: 200px;
    }

    .gallery img {
      border-radius: 6px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: border-color 0.3s ease;
    }

    .gallery img.selected {
      border-color: #d32f2f;
    }

    #mainImage {
      flex: 1 1 400px;
      max-width: 400px;
      border-radius: 8px;
      cursor: zoom-in;
      transition: transform 0.3s ease;
      object-fit: contain;
      max-height: 300px;
    }

    #mainImage.zoomed {
      cursor: zoom-out;
      transform: scale(2);
      z-index: 10;
      position: relative;
    }

    .info-section {
      flex: 1 1 250px;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      gap: 15px;
      color: #fff;
      max-width: 260px;
    }

    .price {
      font-size: 1.8rem;
      font-weight: 900;
      color: #d32f2f;
      margin: 0;
      letter-spacing: 1.5px;
      text-align: center;
    }

    .actions button,
    .actions input[type="number"],
    .actions label {
      display: block;
      width: 100%;
      margin-bottom: 10px;
      font-weight: 600;
    }

    .actions button {
      cursor: pointer;
      padding: 10px;
      border-radius: 6px;
      border: none;
      font-size: 1rem;
      font-weight: 700;
      transition: background-color 0.3s ease;
    }

    .buy-now-price {
      background-color: #d32f2f;
      color: white;
    }
    .buy-now-price:hover {
      background-color: #b02929;
    }

    #bidAmount {
      padding: 8px;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #444;
      background: #222;
      color: #fff;
      box-sizing: border-box;
    }

    #bidBtn {
      background-color: #4caf50;
      color: white;
      border: none;
    }
    #bidBtn:hover {
      background-color: #388e3c;
    }

    .contact-seller {
      background-color: #388e3c;
      color: white;
      border: none;
      font-weight: 700;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .contact-seller:hover {
      background-color: #2e7031;
    }

    .description {
      margin-top: 15px;
      line-height: 1.5;
      font-size: 1rem;
      color: #ddd;
    }

    /* Responsive */
    @media (max-width: 850px) {
      .listing-flex {
        flex-direction: column;
        align-items: center;
      }
      .gallery {
        max-width: 100%;
        flex-direction: row;
        overflow-x: auto;
      }
      .gallery img {
        max-width: 100px;
      }
      #mainImage {
        max-width: 100%;
        max-height: 250px;
      }
      .info-section {
        max-width: 100%;
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <header role="banner" aria-label="Site header with logo and authentication">
    <div class="logo-container">
      <img src="https://i.ibb.co/gL9ttQ1k/logo.jpg" alt="Torque Bay Logo" />
      <h1>Torque Bay â€“ Car Auctions & Sales</h1>
    </div>
    <nav class="auth-buttons" aria-label="User authentication actions">
      <a href="login.html" id="loginLink">Login</a>
      <a href="register.html" id="registerLink">Register</a>
    </nav>
  </header>

  <div class="rolling-text-container" aria-live="polite" aria-atomic="true" role="region" aria-label="Site updates scrolling message">
    <div class="rolling-text">
      ðŸš— Updates coming soon! â€“ Email TorqueBay@gmail.com for enquiries & membership info. Stay tuned! ðŸš€
    </div>
  </div>

  <main class="container" role="main" aria-label="Car auction and sales listings">

    <!-- Filters -->
    <form id="filtersForm" class="filters" aria-label="Filter and search car listings">
      <label for="searchTitle">Search:</label>
      <input type="text" id="searchTitle" name="searchTitle" placeholder="Enter keyword..." aria-label="Search by title or description" />

      <label for="filterModel">Model:</label>
      <select id="filterModel" name="filterModel" aria-label="Filter by car model">
        <option value="">Any</option>
        <option value="Astra">Astra</option>
        <option value="Corsa">Corsa</option>
        <option value="Focus">Focus</option>
        <option value="Golf">Golf</option>
      </select>

      <label for="filterCondition">Condition:</label>
      <select id="filterCondition" name="filterCondition" aria-label="Filter by running condition">
        <option value="">Any</option>
        <option value="runner">Runner</option>
        <option value="non-runner">Non-runner</option>
      </select>

      <label for="mileageSort">Mileage:</label>
      <select id="mileageSort" name="mileageSort" aria-label="Sort by mileage">
        <option value="">Default</option>
        <option value="low-high">Low to High</option>
        <option value="high-low">High to Low</option>
      </select>

      <label for="priceRangeMin">Price Min (Â£):</label>
      <input type="number" id="priceRangeMin" name="priceRangeMin" min="0" placeholder="Min" aria-label="Minimum price" />

      <label for="priceRangeMax">Price Max (Â£):</label>
      <input type="number" id="priceRangeMax" name="priceRangeMax" min="0" placeholder="Max" aria-label="Maximum price" />

      <button type="submit" aria-label="Apply filters">Filter</button>
    </form>

    <!-- Listing -->
    <article class="listing" aria-labelledby="listingTitle" tabindex="0" role="article" aria-describedby="listingDesc">
      <h3 id="listingTitle">Vauxhall Astra J 1.4 Turbo (A14NET) - 2010</h3>
      <div class="tag" aria-label="Running condition: Runner">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M9 16.172l-3.95-3.95-1.414 1.414L9 19 20.364 7.636l-1.414-1.414z"/></svg> Runner
      </div>
      <div id="countdown" aria-live="polite" aria-atomic="true">Auction Ends In: 23h 59m 59s</div>

      <div class="listing-flex">
        <div class="gallery" aria-label="Car images gallery" role="list">
          <img src="https://i.ibb.co/5x4fty6V/2025-07-05-18-30-25-401.jpg" alt="Vauxhall Astra front view" class="selected" role="listitem" tabindex="0" />
          <img src="https://i.ibb.co/20LT3MMB/2025-07-05-18-30-42-743.jpg" alt="Vauxhall Astra side view" role="listitem" tabindex="0" />
          <img src="https://i.ibb.co/k692dv4t/2025-07-05-18-31-00-391.jpg" alt="Vauxhall Astra interior" role="listitem" tabindex="0" />
          <img src="https://i.ibb.co/PzPSzjVq/2025-07-05-18-31-07-371.jpg" alt="Vauxhall Astra rear view" role="listitem" tabindex="0" />
        </div>

        <img id="mainImage" src="https://i.ibb.co/5x4fty6V/2025-07-05-18-30-25-401.jpg" alt="Main car image" tabindex="0" />

        <section class="info-section" aria-label="Car information and actions">
          <p class="price" aria-label="Current price">Â£1,499</p>

          <div class="actions">
            <button class="buy-now-price" id="buyNowBtn" aria-label="Buy this car now for Â£1999">Buy It Now Â£1999</button>

            <form id="bidForm" aria-label="Place a bid on this car">
              <label for="bidAmount" style="font-weight:700; color:#d32f2f;">Your Bid (Â£):</label>
              <input type="number" id="bidAmount" name="bidAmount" min="1500" step="50" placeholder="Enter bid amount" required aria-required="true" />
              <button type="submit" id="bidBtn">Place Bid</button>
            </form>

            <button class="contact-seller" id="contactSellerBtn" aria-haspopup="dialog" aria-controls="contactModal">Contact Seller</button>
          </div>
        </section>
      </div>

      <section class="description" id="listingDesc">
        <p>
          The <strong>Vauxhall Astra J 1.4 Turbo (A14NET)</strong> from 2010 is a sporty yet economical hatchback powered by a 1.4L turbocharged petrol engine. It delivers approximately <strong>138 bhp</strong> with great fuel efficiency of around <strong>45 mpg (combined)</strong>. Ideal for city driving and longer trips, the Astra offers a smooth ride with decent torque, agile handling, and modern features. Perfect for buyers seeking a reliable and affordable performance car.
        </p>
        <p>Mileage: 89,905 miles | Full year MOT | Recently serviced</p>
      </section>
    </article>

  </main>

  <!-- Contact Modal -->
  <dialog id="contactModal" aria-modal="true" role="dialog" aria-labelledby="contactModalTitle">
    <form id="contactForm">
      <h2 id="contactModalTitle">Contact Seller</h2>
      <p>Please enter your phone number and we will contact you shortly regarding the listing.</p>
      <label for="phoneNumber">Phone Number:</label><br />
      <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="+44 7000 000000" required /><br /><br />
      <button type="submit">Send</button>
      <button type="button" id="closeContactModalBtn">Cancel</button>
    </form>
  </dialog>

  <script>
    // Image gallery selection and zoom
    const galleryImages = document.querySelectorAll('.gallery img');
    const mainImage = document.getElementById('mainImage');

    galleryImages.forEach(img => {
      img.addEventListener('click', () => {
        galleryImages.forEach(i => i.classList.remove('selected'));
        img.classList.add('selected');
        mainImage.src = img.src;
        mainImage.alt = img.alt;
      });
    });

    mainImage.addEventListener('click', () => {
      mainImage.classList.toggle('zoomed');
    });

    // Countdown timer for auction (24 hours from page load)
    const countdownEl = document.getElementById('countdown');
    let countdownTime = 24 * 60 * 60; // 24 hours in seconds

    function updateCountdown() {
      const hrs = Math.floor(countdownTime / 3600);
      const mins = Math.floor((countdownTime % 3600) / 60);
      const secs = countdownTime % 60;

      countdownEl.textContent = `Auction Ends In: ${hrs}h ${mins}m ${secs}s`;

      if(countdownTime > 0) {
        countdownTime--;
      } else {
        countdownEl.textContent = "Auction Ended";
        clearInterval(timerInterval);
      }
    }
    updateCountdown();
    const timerInterval = setInterval(updateCountdown, 1000);

    // Contact seller modal
    const contactModal = document.getElementById('contactModal');
    const contactSellerBtn = document.getElementById('contactSellerBtn');
    const closeContactModalBtn = document.getElementById('closeContactModalBtn');
    const contactForm = document.getElementById('contactForm');

    contactSellerBtn.addEventListener('click', () => {
      contactModal.showModal();
      document.getElementById('phoneNumber').focus();
    });

    closeContactModalBtn.addEventListener('click', () => {
      contactModal.close();
      contactForm.reset();
    });

    contactForm.addEventListener('submit', e => {
      e.preventDefault();
      const phone = contactForm.phoneNumber.value.trim();
      if(phone.length < 6){
        alert('Please enter a valid phone number.');
        return;
      }
      alert(`Thank you! We will contact you shortly at ${phone}.`);
      contactForm.reset();
      contactModal.close();
    });

    // Bid form
    const bidForm = document.getElementById('bidForm');
    const bidAmountInput = document.getElementById('bidAmount');
    const bidBtn = document.getElementById('bidBtn');

    bidForm.addEventListener('submit', e => {
      e.preventDefault();
      const bidValue = parseInt(bidAmountInput.value);
      if(isNaN(bidValue) || bidValue < 1500){
        alert('Please enter a valid bid amount above Â£1500.');
        return;
      }
      alert(`Your bid of Â£${bidValue} has been placed!`);
      bidForm.reset();
    });

    // Buy now button
    const buyNowBtn = document.getElementById('buyNowBtn');
    buyNowBtn.addEventListener('click', () => {
      if(confirm('Are you sure you want to buy this car now for Â£1999?')){
        alert('Congratulations! You have purchased the car. The seller will contact you shortly.');
      }
    });

    // Filters form (demo alert, replace with real filter logic/backend integration)
    const filtersForm = document.getElementById('filtersForm');
    filtersForm.addEventListener('submit', e => {
      e.preventDefault();
      alert('Filtering feature coming soon!');
      // Here you can integrate filtering logic or connect to backend/Supabase
    });
  </script>

</body>
</html>
