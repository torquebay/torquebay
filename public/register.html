<!-- Add this just below the form -->
<p id="confirmationMessage" style="color:lightgreen; margin-top:10px;"></p>

<script>
  const supabaseUrl = 'https://jyejmnszfbkyeacbhbez.supabase.co';
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5ZWptbnN6ZmJreWVhY2JoYmV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIyNDc1NzcsImV4cCI6MjA2NzgyMzU3N30.72yNaR3DJd30hiMZvJwN_KCOBgdBjhE1kGBAuq4ZvSQ';
  const supabase = supabase.createClient(supabaseUrl, supabaseKey);

  const form = document.getElementById('registerForm');
  const messageEl = document.getElementById('confirmationMessage');

  form.onsubmit = async (e) => {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    const { data, error } = await supabase.auth.signUp({ email, password });

    if (error) {
      messageEl.textContent = 'Registration failed: ' + error.message;
      messageEl.style.color = 'red';
    } else {
      console.log(data); // helpful for debugging
      messageEl.textContent = 'Account created! Please check your email to confirm. Redirecting to login...';
      setTimeout(() => {
        window.location.href = '/login.html';
      }, 3000); // 3 second delay so user can read the message
    }
  };
</script>
